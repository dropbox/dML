\* Apalache Configuration for MPSForkHandler
\* Symbolic bounded checking of fork safety invariants
\*
\* Note: Use smaller bounds for Apalache - Z3 struggles with larger
\* state spaces. TLC provides comprehensive enumeration at larger bounds.
\*
\* Author: Worker N=1360
\* Date: 2025-12-20

\* Constants (small, solver-friendly bounds)
CONSTANT
    MaxStreams = 2
    MaxPendingOps = 2
    MaxForkDepth = 1
    None = 99
    RoleParent = 0
    RoleChild = 1
    InitUninitialized = 0
    InitInProgress = 1
    InitComplete = 2
    InitFailed = 3
    PhaseNone = 0
    PhasePrepare = 1
    PhaseParent = 2
    PhaseChild = 3

\* Specification (safety-only: Apalache does not support WF/SF fairness here)
SPECIFICATION SpecNoFairness

\* Safety invariants (verified symbolically)
INVARIANT TypeOK
INVARIANT Safety
