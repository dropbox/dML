\* Apalache Configuration for MPSKernelCache
\* Symbolic bounded checking of kernel cache thread safety invariants
\*
\* Note: Use smaller bounds for Apalache - Z3 struggles with larger
\* state spaces. TLC provides comprehensive enumeration at larger bounds.
\*
\* Author: Worker N=1360
\* Date: 2025-12-20

\* Constants (small, solver-friendly bounds)
CONSTANT
    MaxCacheSize = 2
    MaxKernels = 4
    NumThreads = 2
    None = 99
    KernelFree = 0
    KernelCompiling = 1
    KernelCached = 2
    KernelInUse = 3
    KernelDeleted = 4
    ThreadIdle = 10
    ThreadLookup = 11
    ThreadCompiling = 12
    ThreadCaching = 13
    ThreadExecuting = 14
    ThreadDestroying = 15
    ThreadDone = 16

\* Specification (safety-only: Apalache does not support WF/SF fairness here)
SPECIFICATION SpecNoFairness

\* Safety invariants (verified symbolically)
INVARIANT TypeOK
INVARIANT Safety
INVARIANT KeyUniqueness
INVARIANT NoDoubleFree
INVARIANT ThreadIsolation
