\* MPSForkHandler TLA+ Configuration
\* Models fork safety for PyTorch MPS backend
\*
\* Run: ./run_tlc.sh MPSForkHandler

\* Constants for bounded model checking
CONSTANT
    MaxStreams = 3
    MaxPendingOps = 3
    MaxForkDepth = 2
    None = 99
    RoleParent = 0
    RoleChild = 1
    InitUninitialized = 0
    InitInProgress = 1
    InitComplete = 2
    InitFailed = 3
    PhaseNone = 0
    PhasePrepare = 1
    PhaseParent = 2
    PhaseChild = 3

\* Specification to verify
SPECIFICATION
    Spec

\* Check all safety invariants
INVARIANT
    TypeOK
    Safety

\* Check liveness properties (optional - can be slow)
\* PROPERTY
\*     ForkEventuallyCompletes
\*     Progress
