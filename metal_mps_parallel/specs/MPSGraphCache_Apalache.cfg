\* Apalache Configuration for MPSGraphCache
\* Symbolic bounded checking of graph cache coherency invariants
\*
\* Note: Use smaller bounds for Apalache - Z3 struggles with larger
\* state spaces. TLC provides comprehensive enumeration at larger bounds.
\*
\* Author: Worker N=1360
\* Date: 2025-12-20

\* Constants (small, solver-friendly bounds)
CONSTANT
    MaxCacheSize = 2
    MaxGraphs = 3
    NumThreads = 2
    None = 99
    GraphFree = 0
    GraphCreating = 1
    GraphCached = 2
    GraphInUse = 3
    GraphEvicting = 4
    GraphDeleted = 5
    ThreadIdle = 10
    ThreadLookup = 11
    ThreadCompiling = 12
    ThreadInserting = 13
    ThreadExecuting = 14
    ThreadEvicting = 15
    ThreadDone = 16

\* Specification (safety-only: Apalache does not support WF/SF fairness here)
SPECIFICATION SpecNoFairness

\* Safety invariants (verified symbolically)
INVARIANT TypeOK
INVARIANT CacheSizeInvariant
INVARIANT NoDoubleFree
INVARIANT RefCountInvariant
INVARIANT EvictionSafety
INVARIANT MutexExclusion
