{
  "timestamp": "2025-12-22T14:15:43Z",
  "total": 62,
  "passed": 49,
  "failed": 0,
  "warnings": 13,
  "results": [
    {"name":"ST.001.a: g_pool_alive defined","status":"PASS","message":"Found at 543","file":"","line":""},
    {"name":"ST.001.b: Pool ctor/dtor set g_pool_alive","status":"PASS","message":"Found ctor/dtor stores","file":"","line":""},
    {"name":"ST.001.c: TLS cleanup guards slot release","status":"WARN","message":"ThreadStreamSlot destructor not found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":""},
    {"name":"ST.001.d: releaseSlotIfPoolAlive gated","status":"WARN","message":"releaseSlotIfPoolAlive not found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":""},
    {"name":"ST.002.a: use_count references","status":"PASS","message":"Found       40 references","file":"","line":""},
    {"name":"ST.002.b: Double-check pattern comment","status":"PASS","message":"Found documentation","file":"","line":""},
    {"name":"ST.003.a: in-use events use shared_ptr","status":"PASS","message":"Found at 135","file":"","line":""},
    {"name":"ST.003.b: getInUseEventShared exists","status":"PASS","message":"Found at 133","file":"","line":""},
    {"name":"ST.003.c: elapsedTime uses shared_ptr copies","status":"PASS","message":"Found at 447","file":"","line":""},
    {"name":"ST.003.d: notifyListener uses explicit queue","status":"PASS","message":"Found at 151","file":"","line":""},
    {"name":"ST.003.e: No obvious unsafe lambda captures","status":"WARN","message":"Lambda capture detected; verify it does not escape asynchronously","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSEvent.mm","line":"359"},
    {"name":"ST.004: waitUntilCompleted in MPSAllocator.mm","status":"WARN","message":"Potential wait while holding mutex","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSAllocator.mm","line":"785"},
    {"name":"ST.004: waitUntilCompleted in MPSAllocator.mm","status":"WARN","message":"Potential wait while holding mutex","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSAllocator.mm","line":"1432"},
    {"name":"ST.004: waitUntilCompleted in MPSStream.mm","status":"WARN","message":"Potential wait while holding mutex","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":"280"},
    {"name":"ST.004: No waitUntilCompleted While Holding Mutex","status":"PASS","message":"No obvious violations found","file":"","line":""},
    {"name":"ST.005: Command Encoder Lifetime","status":"PASS","message":"No obvious violations found","file":"","line":""},
    {"name":"ST.006: Lock order consistency","status":"PASS","message":"Lock order documented in code comments","file":"","line":""},
    {"name":"ST.007: Block Callback Lifetime","status":"PASS","message":"No critical issues found","file":"","line":""},
    {"name":"ST.008.a: Global Metal Encoding Mutex","status":"PASS","message":"Not found (no encoding serialization)","file":"","line":""},
    {"name":"ST.008.c: Static Mutex Declarations","status":"PASS","message":"No static mutexes found","file":"","line":""},
    {"name":"ST.008.d: Hot Path Locks","status":"WARN","message":"Found locks near compute/forward paths in 3 file(s): MPSAllocator.mm:164,MPSEvent.mm:34,MPSStream.mm:149","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSAllocator.mm","line":"164"},
    {"name":"ST.008: Global Serialization Detection","status":"PASS","message":"Analysis complete - 0 serialization points tracked","file":"","line":""},
    {"name":"ST.009.a: TLA+ Bounded Wait Spec","status":"PASS","message":"MPSStreamPoolBoundedWait.tla has BoundedWaitInvariant","file":"","line":""},
    {"name":"ST.009.b: TLA+ Bounded Wait Config","status":"PASS","message":"Config file exists","file":"","line":""},
    {"name":"ST.009.c: Runtime Bounded Wait Test","status":"PASS","message":"test_bounded_wait.py has BoundedWaitMonitor","file":"","line":""},
    {"name":"ST.009.d: Last Bounded Wait Test Run","status":"PASS","message":"Test passed (see bounded_wait_results.json)","file":"","line":""},
    {"name":"ST.009: Bounded Wait Infrastructure","status":"PASS","message":"All components present","file":"","line":""},
    {"name":"ST.010.a: TLA+ Parallel Progress Spec","status":"PASS","message":"MPSStreamPoolParallel.tla has parallel properties","file":"","line":""},
    {"name":"ST.010.b: TLA+ Parallel Progress Config","status":"PASS","message":"Config file exists","file":"","line":""},
    {"name":"ST.010.c: Runtime Parallel Progress Test","status":"PASS","message":"test_parallel_progress.py has ParallelProgressMonitor","file":"","line":""},
    {"name":"ST.010.d: TLA+ Parallel Verification","status":"PASS","message":"NoParallelEver invariant violated (parallelism proven)","file":"","line":""},
    {"name":"ST.010.e: Runtime Parallel Verification","status":"PASS","message":"Runtime test passed","file":"","line":""},
    {"name":"ST.010: Parallel Critical Section Exists","status":"PASS","message":"Design proven to permit parallelism","file":"","line":""},
    {"name":"ST.011.a: TLA+ RecordStream Spec","status":"PASS","message":"MPSRecordStream.tla has recordStream properties","file":"","line":""},
    {"name":"ST.011.b: TLA+ RecordStream Config","status":"PASS","message":"Config file exists","file":"","line":""},
    {"name":"ST.011.c: RecordStream Lock Discipline","status":"PASS","message":"recordStream() acquires pool_mutex","file":"","line":""},
    {"name":"ST.011.d: FreeBuffer Checks Pending Events","status":"PASS","message":"free_buffer() checks pending_events before recycling","file":"","line":""},
    {"name":"ST.011.e: TLC RecordStream Verification","status":"PASS","message":"TLC verification passed (see recordstream_verification_results.json)","file":"","line":""},
    {"name":"ST.011: RecordStream Cross-Stream Protocol","status":"PASS","message":"Event-based lifetime protocol verified","file":"","line":""},
    {"name":"ST.012.a: TLA+ Encoding Lock Spec","status":"PASS","message":"MPSEncodingLock.tla has key properties","file":"","line":""},
    {"name":"ST.012.b: TLA+ Encoding Lock Config","status":"PASS","message":"Config file exists","file":"","line":""},
    {"name":"ST.012.c: Lock Hierarchy Documentation","status":"WARN","message":"MPSThreadSafety.h not found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSThreadSafety.h","line":""},
    {"name":"ST.012.d: MPSEncodingLock Usage","status":"WARN","message":"Only 0 usages found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":""},
    {"name":"ST.012.e: Encoding Lock RAII Discipline","status":"PASS","message":"No direct lock/unlock calls (uses RAII)","file":"","line":""},
    {"name":"ST.012.f: Wait Under Encoding Lock","status":"PASS","message":"No blocking waits while holding encoding lock","file":"","line":""},
    {"name":"ST.012: Global Encoding Lock Contract","status":"PASS","message":"Lock hierarchy and deadlock freedom verified","file":"","line":""},
    {"name":"ST.013.a: TLA+ Slot Allocator Spec","status":"PASS","message":"MPSStreamSlotAllocator.tla has slot allocator properties","file":"","line":""},
    {"name":"ST.013.b: TLA+ Slot Allocator Config","status":"PASS","message":"Config file exists","file":"","line":""},
    {"name":"ST.013.c: AcquireSlot Atomic CAS","status":"WARN","message":"acquireSlot() not found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":""},
    {"name":"ST.013.d: ReleaseSlot Atomic OR","status":"WARN","message":"releaseStreamSlot() not found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":""},
    {"name":"ST.013.e: Double-Release Detection","status":"WARN","message":"releaseStreamSlot() not found","file":"/Users/ayates/metal_mps_parallel/pytorch-mps-fork/aten/src/ATen/mps/MPSStream.mm","line":""},
    {"name":"ST.013.g: TLC Slot Allocator Verification","status":"PASS","message":"TLC verification passed (see slotallocator_verification_results.json)","file":"","line":""},
    {"name":"ST.013: Slot Allocator + Backpressure","status":"PASS","message":"Lock-free bitmask allocation with backpressure verified","file":"","line":""},
    {"name":"ST.014.a: TLA+ Dispatch Queue Spec","status":"PASS","message":"MPSDispatchQueueContext.tla has dispatch safety properties","file":"","line":""},
    {"name":"ST.014.b: TLA+ Dispatch Queue Config","status":"PASS","message":"Config file exists","file":"","line":""},
    {"name":"ST.014.c: Dispatch Reentrancy Detection","status":"PASS","message":"Found       10 dispatch_get_specific calls","file":"","line":""},
    {"name":"ST.014.d: Dispatch Sync With Rethrow","status":"PASS","message":"Found at OperationUtils.mm:66","file":"","line":""},
    {"name":"ST.014.e: Exception Propagation Pattern","status":"PASS","message":"dispatch_sync_with_rethrow handles exceptions","file":"","line":""},
    {"name":"ST.014.f: No TLS Lookup Inside Dispatch","status":"WARN","message":"Found 3 potential TLS lookups inside dispatch (manual review needed)","file":"","line":""},
    {"name":"ST.014.g: TLC Dispatch Queue Verification","status":"PASS","message":"TLC verification passed (see dispatchqueue_verification_results.json)","file":"","line":""},
    {"name":"ST.014.h: Reentrancy Test Exists","status":"PASS","message":"Standalone test demonstrates safe pattern","file":"","line":""},
    {"name":"ST.014: Dispatch Queue Context Safety","status":"PASS","message":"Reentrancy and TLS hazards verified","file":"","line":""}
  ]
}
